{"version":3,"sources":["App.tsx","index.tsx"],"names":["OSS","require","process","REACT_APP_BUCKET","REACT_APP_REGION","REACT_APP_ACCESSKEYSECRET","client","region","accessKeyId","REACT_APP_ACCESSKEYID","accessKeySecret","bucket","App","useState","url","changeUrl","html","changeHtml","md","changeMd","uploadFile","useCallback","e","files","Array","from","target","file","name","put","then","useEffect","document","addEventListener","event","items","clipboardData","length","i","type","indexOf","getAsFile","uuidv4","id","className","title","multiple","onChange","width","value","disabled","readOnly","placeholder","text","datatype","ReactDOM","render","StrictMode","getElementById"],"mappings":"8NAIMA,EAAMC,EAAQ,IACpB,EAKIC,kUAJFC,EADF,EACEA,iBACAC,EAFF,EAEEA,iBACAC,EAHF,EAGEA,0BAGIC,EAAS,IAAIN,EAAI,CACrBO,OAAQH,EACRI,YARF,EAIEC,sBAKAC,gBAAiBL,EACjBM,OAAQR,IAgGOS,MA7FjB,WACE,MAAwBC,mBAAiB,IAAzC,mBAAOC,EAAP,KAAWC,EAAX,KACA,EAA0BF,mBAAiB,IAA3C,mBAAOG,EAAP,KAAYC,EAAZ,KACA,EAAsBJ,mBAAiB,IAAvC,mBAAOK,EAAP,KAAUC,EAAV,KACMC,EAAaC,uBAAY,SAACC,GAE9B,IADA,IAAMC,EAAQC,MAAMC,KAAKH,EAAEI,OAAOH,OAAS,IADqB,aAE5D,IAAII,EAAI,KACHC,EAAQD,EAARC,KACPtB,EAAOuB,IAAI,WAAaD,EAAKD,GAAMG,MAAK,WACtC,IAAMhB,EAAM,8DAAgEc,EAC5Eb,EAAUD,GACVG,EAAW,YAAD,OAAaH,EAAb,cACVK,EAAS,KAAD,OAAMS,EAAN,aAAed,EAAf,UANZ,MAAgBS,EAAhB,eAAuB,MASvB,IAwBF,OAvBAQ,qBAAU,WACRC,SAASC,iBAAiB,SAAQ,SAACC,GACjC,IAAMC,EAAQD,EAAME,eAAiBF,EAAME,cAAcD,MACrDR,EAAO,KACX,GAAIQ,GAASA,EAAME,OACjB,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAME,OAAQC,IAChC,IAAwC,IAApCH,EAAMG,GAAGC,KAAKC,QAAQ,SAAiB,CACzCb,EAAOQ,EAAMG,GAAGG,YAChB,MAIN,GAAGd,EAAK,CACN,IAAMC,EAAOc,cAAW,IAAMf,EAAKC,KACnCtB,EAAOuB,IAAI,WAAaD,EAAKD,GAAMG,MAAK,WACtC,IAAMhB,EAAM,8DAAgEc,EAC5Eb,EAAUD,GACVG,EAAW,mBAAD,OAAoBH,EAApB,OACVK,EAAS,KAAD,OAAMS,EAAN,aAAed,EAAf,eAId,IAEE,qBAAK6B,GAAG,OAAR,SACE,oCACE,sBAAKC,UAAU,iBAAf,UACE,qBAAKA,UAAU,eAAeC,MAAM,uEACpC,uBAAON,KAAK,OAAOO,UAAQ,EAACC,SAAU3B,OAExC,qBAAKwB,UAAU,gBAAf,SACE,uBAAOI,MAAM,OAAb,SACE,kCACA,qBAAIJ,UAAU,SAAd,UACE,6BAAI,sBAAMA,UAAU,QAAhB,mBACJ,6BAAI,uBAAOK,MAAOnC,EAAKyB,KAAK,OAAOW,UAAQ,EAACC,UAAQ,EACzCC,YAAY,+BAEvB,6BACE,cAAC,kBAAD,CAAiBC,KAAMvC,EAAvB,SAEE,mBAAG8B,UAAU,cAAcU,SAAS,MAApC,yBAIN,qBAAIV,UAAU,SAAd,UACE,6BAAI,sBAAMA,UAAU,QAAhB,oBACJ,6BAAI,uBAAOK,MAAOjC,EAAMuB,KAAK,OAAOW,UAAQ,EAACC,UAAQ,EAC1CC,YAAY,gCAEvB,6BACE,cAAC,kBAAD,CAAiBC,KAAMrC,EAAvB,SAEE,mBAAG4B,UAAU,cAAcU,SAAS,OAApC,yBAIN,qBAAIV,UAAU,SAAd,UACE,6BAAI,sBAAMA,UAAU,QAAhB,wBACJ,6BACE,uBAAOK,MAAO/B,EAAIqB,KAAK,OAAOW,UAAQ,EAACC,UAAQ,EAAEC,YAAY,eAE/D,6BAEE,cAAC,kBAAD,CAAiBC,KAAMnC,EAAvB,SAEE,mBAAG0B,UAAU,cAAcU,SAAS,WAApC,sCChGpBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFzB,SAAS0B,eAAe,W","file":"static/js/main.f7d9955e.chunk.js","sourcesContent":["import React, {ChangeEvent, useCallback, useEffect, useState} from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\nimport './App.css';\nconst OSS = require('ali-oss');\nconst {\n  REACT_APP_BUCKET,\n  REACT_APP_REGION,\n  REACT_APP_ACCESSKEYSECRET,\n  REACT_APP_ACCESSKEYID\n} = process.env\nconst client = new OSS({\n  region: REACT_APP_REGION,\n  accessKeyId: REACT_APP_ACCESSKEYID,\n  accessKeySecret: REACT_APP_ACCESSKEYSECRET,\n  bucket: REACT_APP_BUCKET\n})\n\nfunction App() {\n  const [url,changeUrl] = useState<string>('')\n  const [html,changeHtml] = useState<string>('')\n  const [md,changeMd] = useState<string>('')\n  const uploadFile = useCallback((e:ChangeEvent<HTMLInputElement>)=>{\n    const files = Array.from(e.target.files || [])\n    for(let file of files){\n      const {name} = file\n      client.put('/images/' + name,file).then(()=>{\n        const url = 'https://likaiqiang-blog.oss-cn-beijing.aliyuncs.com/images/' + name\n        changeUrl(url)\n        changeHtml(`<img src=${url} alt=\"\"/>`)\n        changeMd(`![${name}](${url})`)\n      })\n    }\n  },[])\n  useEffect(()=>{\n    document.addEventListener('paste',(event)=>{\n      const items = event.clipboardData && event.clipboardData.items;\n      let file = null;\n      if (items && items.length) {\n        for (let i = 0; i < items.length; i++) {\n          if (items[i].type.indexOf('image') !== -1) {\n            file = items[i].getAsFile();\n            break;\n          }\n        }\n      }\n      if(file){\n        const name = uuidv4() + '-' + file.name\n        client.put('/images/' + name,file).then(()=>{\n          const url = 'https://likaiqiang-blog.oss-cn-beijing.aliyuncs.com/images/' + name\n          changeUrl(url)\n          changeHtml(`<img alt=\"\" src=${url}/>`)\n          changeMd(`![${name}](${url})`)\n        })\n      }\n    })\n  },[])\n  return (\n      <div id=\"main\">\n        <section>\n          <div className=\"holder-wrapper\">\n            <div className=\"image-holder\" title=\"点击上传图片到微博相册\"/>\n            <input type=\"file\" multiple onChange={uploadFile}/>\n          </div>\n          <div className=\"table-wrapper\">\n            <table width=\"100%\">\n              <tbody>\n              <tr className=\"type-1\">\n                <td><span className=\"title\">URL</span></td>\n                <td><input value={url} type=\"text\" disabled readOnly\n                           placeholder=\"Uniform Resource Locator\"/>\n                </td>\n                <td>\n                  <CopyToClipboard text={url}>\n                    {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                    <a className=\"button-copy\" datatype=\"URL\">Copy</a>\n                  </CopyToClipboard>\n                </td>\n              </tr>\n              <tr className=\"type-2\">\n                <td><span className=\"title\">HTML</span></td>\n                <td><input value={html} type=\"text\" disabled readOnly\n                           placeholder=\"HyperText Markup Language\"/>\n                </td>\n                <td>\n                  <CopyToClipboard text={html}>\n                    {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                    <a className=\"button-copy\" datatype=\"HTML\">Copy</a>\n                  </CopyToClipboard>\n                </td>\n              </tr>\n              <tr className=\"type-4\">\n                <td><span className=\"title\">Markdown</span></td>\n                <td>\n                  <input value={md} type=\"text\" disabled readOnly  placeholder=\"Markdown\"/>\n                </td>\n                <td>\n                  {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                  <CopyToClipboard text={md}>\n                    {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                    <a className=\"button-copy\" datatype=\"Markdown\">Copy</a>\n                  </CopyToClipboard>\n                </td>\n              </tr>\n              </tbody>\n            </table>\n          </div>\n        </section>\n      </div>\n  )\n}\nexport  default  App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}