(this["webpackJsonpmy-image-server"]=this["webpackJsonpmy-image-server"]||[]).push([[0],{15:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(5),s=c.n(r),i=c(3),l=c(2),d=c(19),j=c(13),o=Object({NODE_ENV:"production",PUBLIC_URL:"/MyImageServer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUCKET:"likaiqiang-blog",REACT_APP_REGION:"oss-cn-beijing",REACT_APP_ACCESSKEYSECRET:"TEt1c3hkUkNUR0d6NG85ZkV4ajM3M2MzM21MNE92",REACT_APP_ACCESSKEYID:"TFRBSTV0TWg3YW14a3hmS3RvRURrUXF2"}),b=o.REACT_APP_BUCKET,O=o.REACT_APP_REGION,u=o.REACT_APP_ACCESSKEYSECRET,p=o.REACT_APP_ACCESSKEYID;u=atob(u||""),p=atob(p||"");var h=function(){var e=Object(a.useRef)(new j({region:O,accessKeyId:p,accessKeySecret:u,bucket:b})),t=Object(a.useRef)((function(t,c,a){e.current.put("/images/"+c,t).then((function(){a(c)}))}));return{client:e,put:t}},x=(c(15),c(0));var E=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(i.a)(r,2),j=s[0],o=s[1],b=Object(a.useState)(""),O=Object(i.a)(b,2),u=O[0],p=O[1],E=Object(a.useRef)((function(e){var t="https://likaiqiang-blog.oss-cn-beijing.aliyuncs.com/images/"+e;n(t),o("<img src=".concat(t,' alt=""/>')),p("![".concat(e,"](").concat(t,")"))})),m=function(){var e=h().put;return{upload:Object(a.useRef)((function(t,c){for(var a=0,n=Array.from(t.target.files||[]);a<n.length;a++){var r=n[a],s=Object(d.a)()+"-"+r.name;e.current(r,s,c)}}))}}().upload;return function(e){var t=h().put;Object(a.useEffect)((function(){document.addEventListener("paste",(function(c){var a=c.clipboardData&&c.clipboardData.items,n=null;if(a&&a.length)for(var r=0;r<a.length;r++)if(-1!==a[r].type.indexOf("image")){n=a[r].getAsFile();break}if(n){var s=Object(d.a)()+"-"+n.name;t.current(n,s,e)}}))}),[t,e])}(E.current),Object(x.jsx)("div",{id:"main",children:Object(x.jsxs)("section",{children:[Object(x.jsxs)("div",{className:"holder-wrapper",children:[Object(x.jsx)("div",{className:"image-holder",title:"\u70b9\u51fb\u4e0a\u4f20\u56fe\u7247\u5230\u5fae\u535a\u76f8\u518c"}),Object(x.jsx)("input",{type:"file",multiple:!0,onChange:function(e){m.current(e,E.current)}})]}),Object(x.jsx)("div",{className:"table-wrapper",children:Object(x.jsx)("table",{width:"100%",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{className:"type-1",children:[Object(x.jsx)("td",{children:Object(x.jsx)("span",{className:"title",children:"URL"})}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{value:c,type:"text",disabled:!0,readOnly:!0,placeholder:"Uniform Resource Locator"})}),Object(x.jsx)("td",{children:Object(x.jsx)(l.CopyToClipboard,{text:c,children:Object(x.jsx)("a",{className:"button-copy",datatype:"URL",children:"Copy"})})})]}),Object(x.jsxs)("tr",{className:"type-2",children:[Object(x.jsx)("td",{children:Object(x.jsx)("span",{className:"title",children:"HTML"})}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{value:j,type:"text",disabled:!0,readOnly:!0,placeholder:"HyperText Markup Language"})}),Object(x.jsx)("td",{children:Object(x.jsx)(l.CopyToClipboard,{text:j,children:Object(x.jsx)("a",{className:"button-copy",datatype:"HTML",children:"Copy"})})})]}),Object(x.jsxs)("tr",{className:"type-4",children:[Object(x.jsx)("td",{children:Object(x.jsx)("span",{className:"title",children:"Markdown"})}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{value:u,type:"text",disabled:!0,readOnly:!0,placeholder:"Markdown"})}),Object(x.jsx)("td",{children:Object(x.jsx)(l.CopyToClipboard,{text:u,children:Object(x.jsx)("a",{className:"button-copy",datatype:"Markdown",children:"Copy"})})})]})]})})})]})})};s.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(E,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.3b63173f.chunk.js.map